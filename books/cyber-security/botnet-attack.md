---
title: ボットネットを利用した攻撃事例
---

## ボットネットを利用した外部への攻撃

分散DDoS攻撃(Distributed Denial of Service Attack)へのボットネットの活用
あるサーバーを標的に複数のボットからサービス停止攻撃を同時に行う

### 1. UDP Flood攻撃
UDPを載せたIPパケットを大量にサーバーに送りつける。
この際に送信元IPアドレスをランダムに偽装することでサーバー側から攻撃者を特定したり、IPアドレスでのフィルタリングなどをされないようにする

ランダムなポートにUDPをのせたIPパケットを送りつけることで、サーバーがそのポートには到達不能であることを伝える機能に負荷をかけてサーバーのリソースを枯渇させる。

https://www.cloudflare.com/ja-jp/learning/ddos/udp-flood-ddos-attack/

### 2. TCP SYN FLOOD攻撃

TCPセッションを確立する前のハンドシェイクでTCP SYNのみを送りつける攻撃
SYN-ACKは受け取らないようにする。

これによりサーバーは応答をまった、待ち状態になる
この待ち状態のサーバーに対してさらにTCP SYNのみを送りつけていく。
同時に待てる数には制限があるので、これを繰り返すことでサーバーリソースを消費して、正当なトラフィックがサーバーを利用できないようになる。
この攻撃においても
- スプーフィング攻撃
- ボットネットを利用した分散攻撃
が利用される

https://www.cloudflare.com/ja-jp/learning/ddos/syn-flood-ddos-attack/

:::message
TCPコネクションの仕組み
【1】クライアント → サーバー：SYN送信
【2】サーバー → クライアント：SYN-ACK送信
【3】クライアント → サーバー：ACK送信（接続確立）
:::

### 3. Slow HTTP DoS攻撃（Slowloris攻撃）

HTTP通信をわざと非常にゆっくり行うことで、HTTPのコネクションプールを占有し続ける。
サーバーが持っている利用可能なセッションプールを最大限消費させることにより、新たなセッションを開始できないようにする
通常の通信と区別が難しいため、対策難易度が高い。**TCP通信を確立する必要があるのでIP偽装が基本的にできない**

Cloudflareのドキュメントからの引用
>各車線に料金所がある4車線の橋を思い浮かべてください。運転手は料金所に車を停めて、紙幣または小銭を渡した後ゲートを通ることで次の運転手に車線を譲ります。ここで、4人の運転手が一度に現れて、開いているすべての車線を占有し、それぞれが小銭を一円ずつ、一枚ずつゆっくりと料金所のオペレーターに渡して、利用可能なすべての車線を数時間塞ぎ、他の運転手が通り抜けられないようにします。この非常にイライラさせるシナリオは、Low and Slow攻撃の仕組みに非常に似ています。

https://www.cloudflare.com/ja-jp/learning/ddos/ddos-low-and-slow-attack/

## ボットネットを利用した組織や個人の内部への攻撃（直接的な被害を出す）

### スパイウェア
侵入先PCでディスク上に保存されたファイルやローカルネットワーク上でアクセスできたデータ等を盗み出すマルウェア

### ランサムウェア
PC内のファイルを次々と暗号化してロックをかけて、解除してほしければ身代金を払えと要求するマルウェア

## 計算リソースの確保を目的とした利用

### マイニングマルウェア
仮想通貨はブロックチェーンのマイニングを行うと報酬が手に入る。
マイニングには大量の計算リソースが必要となるため、ボットネットによって、外部デバイスをマイニングマルウェアに感染させて、ブロックチェーンのマイニングを行わせる。