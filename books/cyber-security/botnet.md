---
title: ボットネット
---

## ボットとは
人などになり変わって作業を行うプログラム

## ボットネット
大量のボットを生み出して、インターネット上に攻撃ネットワークを張り巡らすことで作られる

## ボットネットによるマルウェアの拡散

### 1. 指令サーバーからの接続
マルウェアに感染したデバイスはマルウェア内に組み込まれたIPアドレスやドメイン情報をもとに
`Command and Control`サーバーに接続することで、指示を受け取ったり、集めた情報をアップロードする
指令サーバーからスキャン命令を受け取って次のステップに進む

### 2. ネットワークの探索（スキャン）
インターネット上のIPアドレス一個一個に対してパケットを送りつけてその反応を見る

**スキャンの種類**
- 水平スキャン：IPアドレスを変化させて広く脆弱性のあるホストを探す
- 垂直スキャン：ある特定のIPアドレスに対してTCP/UDPのポート番号を変化させてアクセスすることでそのホスト内で脆弱性のあるサービスを探す

**ポートによるサービスの違い**
- NTPサーバー（UDP123をポートとして使用）：正確な時刻を提供するサーバー
- リモートログイン（TELENET: TCP23, SSH: TCP22）：リモートログイン
...etc

- NTPサーバーを利用したアンプ攻撃
    - NTPサーバーは大量のデータを送る機能を持っていることを悪用する
    - 攻撃者Aは標的Bになりすまして（スプーフィング）NTPサーバーに対してリクエストを送る
    - NTPサーバーはBからのリクエストと認識してBに対して大量のデータを送りつける
    - サーバーB周辺のインフラストラクチャーがDDos攻撃を受けた状態になる
    [Cloudflareドキュメント](https://www.cloudflare.com/ja-jp/learning/ddos/ntp-amplification-ddos-attack/)
    ![](https://storage.googleapis.com/zenn-user-upload/43719faef5ee-20250718.png)
- DNSサーバーを利用したアンプ攻撃も似ている

https://www.cloudflare.com/ja-jp/learning/ddos/dns-amplification-ddos-attack/

### 3. 侵入の試み

以下のような攻撃手法がある
- ブルートフォース攻撃（総当たり攻撃）
- パスワードリスト攻撃・辞書攻撃

### 4. マルウェアのデプロイ
ログイン後にマルウェアをホストにダウンロードして、そのホストもボットになる